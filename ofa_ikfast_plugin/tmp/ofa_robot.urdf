<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/ros/overlay/src/ofa_description/urdf/ofa_robot.urdf.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- Weed Control Unit Robot Arm -->
<robot name="ofa_robot">
  <!-- <xacro:property name="top_l" value="0.2" />
	<xacro:property name="top_w" value="0.2" />
	<xacro:property name="wheel_r" value="0.2" />
	<xacro:property name="wheel_l" value="0.1" />
	<xacro:property name="wheel_m" value="5" />
	<xacro:property name="top_h" value="${height-2*wheel_r}" />
	<xacro:macro name="wheel" params="prefix x y">
		<joint name="_wheel_joint" type="fixed">
			<parent link="base_link" />
			<child link="_wheel_link" />
			<origin xyz="${x} ${y} 0" rpy="0 0 0" />
		</joint>

		<link name="_wheel_link">
			<visual>
				<origin xyz="0 0 ${-top_h/2}" rpy="0 0 0"/>
				<geometry>
					<box size="${top_l} ${top_w} ${top_h}" />
				</geometry>
				<material name="blue"/>
			</visual>
			<visual>
				<origin xyz="0 0 ${-top_h-wheel_r}" rpy="${pi/2} 0 0"/>
				<geometry>
					<cylinder radius="${wheel_r}" length="${wheel_l}" />
				</geometry>
				<material name="blue"/>
			</visual>
			<collision>
				<origin xyz="0 0 ${-top_h/2-wheel_r}" rpy="0 0 0"/>
				<geometry>
					<box size="${top_l} ${2*wheel_r} ${top_h+2*wheel_r}" />
				</geometry>
			</collision>
			<inertial>
				<origin xyz="0 0 ${-top_h/2-wheel_r}" rpy="0 0 0"/>
				<mass value="${wheel_m}" />
				<xacro:box_inertia m="${wheel_m}" x="${top_w}" y="${2*wheel_r}" z="${top_h+2*wheel_r}" />
			</inertial>
		</link>
	</xacro:macro>

	<xacro:wheel prefix="fl" x="${base_l/2-top_w/2}" y="${base_w/2-top_l/2}" />
	<xacro:wheel prefix="bl" x="${-base_l/2+top_w/2}" y="${base_w/2-top_l/2}" />
	<xacro:wheel prefix="fr" x="${base_l/2-top_w/2}" y="${-base_w/2+top_l/2}" />
	<xacro:wheel prefix="br" x="${-base_l/2+top_w/2}" y="${-base_w/2+top_l/2}" /> -->
  <material name="black">
    <color rgba="0 0 0 1.0"/>
  </material>
  <material name="dark_grey">
    <color rgba="0 0 0.6078431372549019 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0 0 0.7843137254901961 1.0"/>
  </material>
  <material name="green">
    <color rgba="0 0.7843137254901961 0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.19607843137254902 0.19607843137254902 0.19607843137254902 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.4235294117647059 0.0392156862745098 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.8705882352941177 0.8117647058823529 0.7647058823529411 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.7843137254901961 0 0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <!-- Used for fixing robot -->
  <link name="world"/>
  <joint name="base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.562"/>
    <parent link="world"/>
    <child link="base_link"/>
  </joint>
  <link name="base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.036"/>
      <geometry>
        <box size="1.216 0.06 0.072"/>
      </geometry>
      <material name="blue"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.036"/>
      <geometry>
        <box size="1.216 0.06 0.072"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.036"/>
      <mass value="6"/>
      <inertia ixx="0.004392" ixy="0" ixz="0" iyy="0.74192" iyz="0" izz="0.7411280000000001"/>
    </inertial>
  </link>
  <joint name="joint1" type="prismatic">
    <origin rpy="0 0 0" xyz="-0.492 0 -0.062"/>
    <parent link="base_link"/>
    <child link="link1"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" lower="0.0" upper="1.0" velocity="10.0"/>
  </joint>
  <link name="link1">
    <visual>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.05025" radius="0.0445"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.05025" radius="0.0445"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <mass value="0.521"/>
      <inertia ixx="0.000367557359375" ixy="0" ixz="0" iyy="0.000367557359375" iyz="0" izz="0.000515855125"/>
    </inertial>
  </link>
  <joint name="joint1_camera" type="fixed">
    <origin rpy="0 0 0" xyz="-0.04625 0 0.062"/>
    <parent link="link1"/>
    <child link="link1_camera"/>
  </joint>
  <link name="link1_camera">
    <visual>
      <origin rpy="0 0 0" xyz="-0.024 0 -0.04"/>
      <geometry>
        <box size="0.048 0.12 0.08"/>
      </geometry>
      <material name="grey"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.024 0 -0.04"/>
      <geometry>
        <box size="0.048 0.12 0.08"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="-0.024 0 -0.04"/>
      <mass value="0.335"/>
      <inertia ixx="0.0005806666666666667" ixy="0" ixz="0" iyy="0.0002429866666666667" iyz="0" izz="0.00046632000000000005"/>
    </inertial>
  </link>
  <joint name="joint2" type="revolute">
    <origin rpy="0 0 0" xyz="0.035125 0 0"/>
    <parent link="link1"/>
    <child link="link2"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" lower="-2.1" upper="2.1" velocity="20.0"/>
  </joint>
  <link name="link2">
    <visual>
      <origin rpy="0 0 0" xyz="0.0225 0 -0.125"/>
      <geometry>
        <cylinder length="0.25" radius="0.0225"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0225 0 -0.125"/>
      <geometry>
        <cylinder length="0.25" radius="0.0225"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0.0225 0 -0.125"/>
      <mass value="0.11144799938609781"/>
      <inertia ixx="0.0005945634675582291" ixy="0" ixz="0" iyy="0.0005945634675582291" iyz="0" izz="2.8210274844606007e-05"/>
    </inertial>
  </link>
  <joint name="joint2_motor" type="fixed">
    <origin rpy="0 0 0" xyz="-0.030925 0 -0.25"/>
    <parent link="link2"/>
    <child link="link2_motor"/>
  </joint>
  <link name="link2_motor">
    <visual>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.05025" radius="0.0445"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <geometry>
        <cylinder length="0.05025" radius="0.0445"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 1.5707963267948966 0" xyz="0 0 0"/>
      <mass value="0.521"/>
      <inertia ixx="0.000367557359375" ixy="0" ixz="0" iyy="0.000367557359375" iyz="0" izz="0.000515855125"/>
    </inertial>
  </link>
  <joint name="joint3" type="revolute">
    <origin rpy="0 0 0" xyz="-0.035125 0 0"/>
    <parent link="link2_motor"/>
    <child link="link3"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" lower="-2.1" upper="2.1" velocity="20.0"/>
  </joint>
  <link name="link3">
    <visual>
      <origin rpy="0 0 0" xyz="-0.0225 0 -0.2125"/>
      <geometry>
        <cylinder length="0.425" radius="0.0225"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.0225 0 -0.2125"/>
      <geometry>
        <cylinder length="0.425" radius="0.0225"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0225 0 -0.2125"/>
      <mass value="0.18946159895636627"/>
      <inertia ixx="0.00287577050957572" ixy="0" ixz="0" iyy="0.00287577050957572" iyz="0" izz="4.7957467235830214e-05"/>
    </inertial>
  </link>
  <joint name="joint3_end" type="fixed">
    <origin rpy="0 0 0" xyz="-0.0225 0 -0.425"/>
    <parent link="link3"/>
    <child link="eef_link"/>
  </joint>
  <link name="eef_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 -0.01"/>
      <geometry>
        <cylinder length="0.02" radius="0.005"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.01"/>
      <geometry>
        <cylinder length="0.02" radius="0.005"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.01"/>
      <mass value="1"/>
      <inertia ixx="3.958333333333333e-05" ixy="0" ixz="0" iyy="3.958333333333333e-05" iyz="0" izz="1.25e-05"/>
    </inertial>
  </link>
  <ros2_control name="arm_2dof" type="system">
    <hardware>
      <plugin>cubemars_hardware/CubeMarsSystemHardware</plugin>
      <param name="can_interface">can0</param>
    </hardware>
    <joint name="joint2">
      <param name="can_id">90</param>
      <param name="pole_pairs">21</param>
      <param name="gear_ratio">10</param>
      <param name="kt">0.123</param>
      <command_interface name="position"/>
      <command_interface name="velocity"/>
      <command_interface name="acceleration"/>
      <command_interface name="effort"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
      <state_interface name="temperature"/>
    </joint>
    <joint name="joint3">
      <param name="can_id">91</param>
      <param name="pole_pairs">21</param>
      <param name="gear_ratio">10</param>
      <param name="kt">0.123</param>
      <command_interface name="position"/>
      <command_interface name="velocity"/>
      <command_interface name="acceleration"/>
      <command_interface name="effort"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
      <state_interface name="temperature"/>
    </joint>
  </ros2_control>
  <ros2_control name="linear_axis" type="system">
    <hardware>
      <!-- <xacro:if value="${use_mock_hardware}"> -->
      <plugin>mock_components/GenericSystem</plugin>
      <!-- </xacro:if>
        <xacro:unless value="${use_mock_hardware}">
          <plugin>teknic_hardware/TeknicSystemHardware</plugin>
        </xacro:unless> -->
    </hardware>
    <joint name="joint1">
      <command_interface name="position"/>
      <command_interface name="velocity"/>
      <command_interface name="acceleration"/>
      <command_interface name="effort"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
  </ros2_control>
</robot>
