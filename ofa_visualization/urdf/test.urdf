<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from robot.urdf.xacro               | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<!-- Weed Control Unit Robot Arm -->
<robot name="weed_arm">
  <!-- <xacro:property name="top_l" value="0.2" />
	<xacro:property name="top_w" value="0.2" />
	<xacro:property name="wheel_r" value="0.2" />
	<xacro:property name="wheel_l" value="0.1" />
	<xacro:property name="wheel_m" value="5" />
	<xacro:property name="top_h" value="${height-2*wheel_r}" />
	<xacro:macro name="wheel" params="prefix x y">
		<joint name="${prefix}_wheel_joint" type="fixed">
			<parent link="base_link" />
			<child link="${prefix}_wheel_link" />
			<origin xyz="${x} ${y} 0" rpy="0 0 0" />
		</joint>

		<link name="${prefix}_wheel_link">
			<visual>
				<origin xyz="0 0 ${-top_h/2}" rpy="0 0 0"/>
				<geometry>
					<box size="${top_l} ${top_w} ${top_h}" />
				</geometry>
				<material name="blue"/>
			</visual>
			<visual>
				<origin xyz="0 0 ${-top_h-wheel_r}" rpy="${pi/2} 0 0"/>
				<geometry>
					<cylinder radius="${wheel_r}" length="${wheel_l}" />
				</geometry>
				<material name="blue"/>
			</visual>
			<collision>
				<origin xyz="0 0 ${-top_h/2-wheel_r}" rpy="0 0 0"/>
				<geometry>
					<box size="${top_l} ${2*wheel_r} ${top_h+2*wheel_r}" />
				</geometry>
			</collision>
			<inertial>
				<origin xyz="0 0 ${-top_h/2-wheel_r}" rpy="0 0 0"/>
				<mass value="${wheel_m}" />
				<xacro:box_inertia m="${wheel_m}" x="${top_w}" y="${2*wheel_r}" z="${top_h+2*wheel_r}" />
			</inertial>
		</link>
	</xacro:macro>

	<xacro:wheel prefix="fl" x="${base_l/2-top_w/2}" y="${base_w/2-top_l/2}" />
	<xacro:wheel prefix="bl" x="${-base_l/2+top_w/2}" y="${base_w/2-top_l/2}" />
	<xacro:wheel prefix="fr" x="${base_l/2-top_w/2}" y="${-base_w/2+top_l/2}" />
	<xacro:wheel prefix="br" x="${-base_l/2+top_w/2}" y="${-base_w/2+top_l/2}" /> -->
  <material name="black">
    <color rgba="0 0 0 1.0"/>
  </material>
  <material name="dark_grey">
    <color rgba="0 0 0.6078431372549019 1.0"/>
  </material>
  <material name="blue">
    <color rgba="0 0 0.7843137254901961 1.0"/>
  </material>
  <material name="green">
    <color rgba="0 0.7843137254901961 0 1.0"/>
  </material>
  <material name="grey">
    <color rgba="0.19607843137254902 0.19607843137254902 0.19607843137254902 1.0"/>
  </material>
  <material name="orange">
    <color rgba="1.0 0.4235294117647059 0.0392156862745098 1.0"/>
  </material>
  <material name="brown">
    <color rgba="0.8705882352941177 0.8117647058823529 0.7647058823529411 1.0"/>
  </material>
  <material name="red">
    <color rgba="0.7843137254901961 0 0 1.0"/>
  </material>
  <material name="white">
    <color rgba="1.0 1.0 1.0 1.0"/>
  </material>
  <!-- <xacro:include filename="ros2_control/linear_axis.ros2_control.xacro" /> -->
  <!-- Used for fixing robot -->
  <link name="world"/>
  <joint name="test_base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0.6"/>
    <parent link="world"/>
    <child link="test_base_link"/>
  </joint>
  <link name="test_base_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0.05"/>
      <geometry>
        <box size="1.5 1.5 0.1"/>
      </geometry>
      <material name="blue"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.05"/>
      <geometry>
        <box size="1.5 1.5 0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.05"/>
      <mass value="5"/>
      <inertia ixx="0.9416666666666665" ixy="0" ixz="0" iyy="0.9416666666666665" iyz="0" izz="0.9416666666666665"/>
    </inertial>
  </link>
  <joint name="test_joint1" type="prismatic">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="test_base_link"/>
    <child link="test_link1"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" lower="-0.75" upper="0.75" velocity="100"/>
  </joint>
  <link name="test_link1">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 -0.05"/>
      <geometry>
        <box size="0.1 0.1 0.1"/>
      </geometry>
      <material name="black"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.1"/>
      <geometry>
        <box size="0.1 0.1 0.1"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.05"/>
      <mass value="0.5"/>
      <inertia ixx="0.0008333333333333335" ixy="0" ixz="0" iyy="0.0008333333333333335" iyz="0" izz="0.0008333333333333335"/>
    </inertial>
  </link>
  <joint name="test_joint2" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 -0.1"/>
    <parent link="test_link1"/>
    <child link="test_link2"/>
    <axis xyz="1 0 0"/>
    <limit effort="100" lower="-1.5707963267948966" upper="1.5707963267948966" velocity="100"/>
  </joint>
  <link name="test_link2">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 -0.125"/>
      <geometry>
        <cylinder length="0.25" radius="0.045"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.125"/>
      <geometry>
        <cylinder length="0.25" radius="0.045"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.125"/>
      <mass value="1"/>
      <inertia ixx="0.005714583333333333" ixy="0" ixz="0" iyy="0.005714583333333333" iyz="0" izz="0.0010125"/>
    </inertial>
  </link>
  <joint name="test_joint3" type="continuous">
    <origin rpy="0 0 0" xyz="0 0 -0.25"/>
    <parent link="test_link2"/>
    <child link="test_link3"/>
    <axis xyz="1 0 0"/>
  </joint>
  <link name="test_link3">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 -0.2125"/>
      <geometry>
        <cylinder length="0.425" radius="0.045"/>
      </geometry>
      <material name="orange"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 -0.2125"/>
      <geometry>
        <cylinder length="0.425" radius="0.045"/>
      </geometry>
    </collision>
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 -0.2125"/>
      <mass value="0.5"/>
      <inertia ixx="0.007779166666666666" ixy="0" ixz="0" iyy="0.007779166666666666" iyz="0" izz="0.00050625"/>
    </inertial>
  </link>
  <ros2_control name="2dof_arm" type="system">
    <hardware>
      <plugin>cubemars_ak_controller/AKHardwareInterface</plugin>
      <param name="can">can0</param>
    </hardware>
    <joint name="test_joint2">
      <param name="node_id">0</param>
    </joint>
    <joint name="test_joint3">
      <param name="node_id">1</param>
    </joint>
  </ros2_control>
  <!-- <xacro:linear_axis_ros2_control name="linear_axis" prefix="$(arg prefix)" /> -->
</robot>
