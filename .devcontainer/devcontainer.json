// credit: https://github.com/BrunoB81HK/ros2-workspace-devcontainer-template
{
  "name": "Weed Control Unit ROS 2 Workspace",
  "build": {
      "dockerfile": "../Dockerfile",
      "context": "..",
      "target": "dev"
  },
  "customizations": {
      "vscode": {
          "extensions": [
              "ms-python.python",
              "charliermarsh.ruff",
              "ms-vscode.cpptools-extension-pack",
              "ms-iot.vscode-ros",
              "ms-azuretools.vscode-docker",
              "tomoki1207.pdf"
          ],
          "settings": {
              "files.associations": {
                  "*.rviz": "yaml"
              }
          }
      }
  },
  "workspaceFolder": "/home/ros/overlay",
  "workspaceMount": "source=${localWorkspaceFolder},target=/home/ros/overlay/src,type=bind",
  "mounts": [
      "source=/dev,target=/dev,type=bind"
    //   "source=/usr/src/jetson_multimedia_api,target=/usr/src/jetson_multimedia_api,type=bind",
    //   "source=/usr/lib/aarch64-linux-gnu/tegra,target=/usr/lib/aarch64-linux-gnu/tegra,type=bind"
  ],
  "containerEnv": {
    "DISPLAY": "${localEnv:DISPLAY}"
  },
  "runArgs": [
      "--net=host",
      "--device-cgroup-rule", "c 189:* rmw", // camera
      "--device-cgroup-rule", "c 266:* rmw" // SC4-Hub
  ]
}
